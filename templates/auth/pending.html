{% extends "base.html" %} {% block title %}Tâches en Attente - Flask Task
Manager{% endblock %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Tâches en Attente d'Approvision</h1>
</div>

{% if pending_tasks %}
<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Titre</th>
        <th>Description</th>
        <th>Créée par</th>
        <th>Date de création</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for task in pending_tasks %}
      <tr>
        <td>{{ task.title }}</td>
        <td>{{ task.description|truncate(50) }}</td>
        <td>{{ task.user.username }}</td>
        <td>{{ task.created_at.strftime('%d/%m/%Y %H:%M') }}</td>
        <td>
          <div class="btn-group" role="group">
            <a
              href="{{ url_for('approve_task', task_id=task.id) }}"
              class="btn btn-sm btn-success"
            >
              <i class="fas fa-check"></i> Approuver
            </a>
            <a
              href="{{ url_for('reject_task', task_id=task.id) }}"
              class="btn btn-sm btn-danger"
            >
              <i class="fas fa-times"></i> Rejeter
            </a>
            <a
              href="{{ url_for('view_task', task_id=task.id) }}"
              class="btn btn-sm btn-info"
            >
              <i class="fas fa-eye"></i> Détails
            </a>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<div class="alert alert-info text-center">
  <h4>Aucune tâche en attente</h4>
  <p>Toutes les tâches ont été traitées.</p>
</div>
{% endif %} {% endblock %}
